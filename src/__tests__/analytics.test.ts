/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { Dub } from "../index.js";
import { createTestHTTPClient } from "./testclient.js";

test("Analytics Retrieve Analytics", async () => {
  const testHttpClient = createTestHTTPClient("retrieveAnalytics");

  const dub = new Dub({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    token: "DUB_API_KEY",
  });

  const result = await dub.analytics.retrieve();
  expect(result).toBeDefined();
  expect(result).toEqual([
    {
      country: "GE",
      region: "*",
      city: "North Kailee",
      clicks: 0,
      leads: 0,
      sales: 0,
      saleAmount: 0,
    },
    {
      country: "PH",
      region: "*",
      city: "Port Anabelfort",
      clicks: 0,
      leads: 0,
      sales: 0,
      saleAmount: 0,
    },
    {
      country: "VN",
      region: "*",
      city: "East Anissafurt",
      clicks: 0,
      leads: 0,
      sales: 0,
      saleAmount: 0,
    },
  ]);
});
